# =============================================================================
# BACKEND - ENV REFERENCE FOR LOCAL DEV & DEPLOYMENT
# =============================================================================
# For Railway: set these in each Service's Variables (Dashboard or railway.toml).
# For local Docker: copy to .env in project root; docker-compose reads it.
# For local (no Docker): copy to backend/.env or set in your shell.
# =============================================================================

# ----- Infrastructure (MongoDB Atlas, Upstash Redis, Railway RabbitMQ) -----
# MongoDB Atlas: Connection > Connect > Driver > Node.js. Use the connection string.
#   Example: mongodb+srv://user:pass@cluster0.xxxxx.mongodb.net/idea_room?retryWrites=true&w=majority
MONGO_URL=mongodb://localhost:27017

# Upstash Redis: Console > your DB > REST API or .env. For TCP use the "Redis URL" (rediss:// for TLS).
#   Example: rediss://default:YOUR_PASSWORD@us1-xxx.upstash.io:6379
REDIS_URL=redis://localhost:6379

# Railway RabbitMQ: from the RabbitMQ plugin / service. May be AMQP_URL or RABBITMQ_URL.
#   Example: amqps://user:pass@vulture.rmq.cloudamqp.com/xxx  or  amqp://...
RABBITMQ_URL=amqp://localhost
# AMQP_URL=amqps://...   # alternative name; app falls back to this if RABBITMQ_URL unset

# ----- API Gateway (Railway service: backend/api-gateway) -----
# PORT is set by Railway; override for local.
# MONGO_URL: set above (Atlas or local).
# CORS_ORIGIN: optional; restrict to frontend URL, e.g. https://yourapp.vercel.app
FIREBASE_PROJECT_ID=
FIREBASE_CLIENT_EMAIL=
FIREBASE_PRIVATE_KEY=

# ----- Auth Service (Railway service: backend/auth-service) -----
FIREBASE_PROJECT_ID=
FIREBASE_CLIENT_EMAIL=
FIREBASE_PRIVATE_KEY=

# ----- Collab Service (Railway service: backend/collab-service) -----
# REDIS_URL, RABBITMQ_URL, MONGO_URL: set above.
# API_GATEWAY_URL: **after deploy** set to your API Gateway public URL, e.g. https://api-gateway-xxx.up.railway.app
API_GATEWAY_URL=http://localhost:5000
# CORS_ORIGIN: optional; e.g. https://yourapp.vercel.app (for Socket.IO)
FIREBASE_PROJECT_ID=
FIREBASE_CLIENT_EMAIL=
FIREBASE_PRIVATE_KEY=

# ----- Snapshot Worker (Railway service: backend/snapshot-worker) -----
# MONGO_URL, RABBITMQ_URL (or AMQP_URL): set above. No FIREBASE or PORT.
